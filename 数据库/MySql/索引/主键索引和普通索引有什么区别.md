## 主键索引 vs 普通索引

在数据库中，主键索引和普通索引有本质上的区别，特别是在 MySQL 的 InnoDB 存储引擎下。

### ✅ 主键索引（Primary Key Index）

主键索引是一种特殊的唯一索引，用于唯一标识表中的每一行数据，具有以下特点：

- **聚簇索引（Clustered Index）**  
  - InnoDB 中，主键索引是聚簇索引。  
  - 其 **叶子节点存储的是整行数据**。  
  - 数据在磁盘上的存储是按主键顺序逻辑组织的。

- **唯一性约束**  
  - 主键字段的值必须 **唯一且非空**。  
  - 一张表只能有一个主键。

- **高效定位**  
  - 通过主键查询数据时，无需“回表”，可 **直接定位到数据行**，查询效率极高。

---

### ✅ 普通索引（Secondary Index / Normal Index）

普通索引是用于提高查询效率的辅助结构，具有以下特点：

- **非聚簇索引**  
  - 普通索引的叶子节点存储的是：  
    ```
    索引列的值 + 对应的主键值（rowid）
    ```  
  - 并不直接包含整行数据。

- **允许重复与 NULL 值**  
  - 普通索引列可以有 **重复值**，也可以 **为 NULL**。  
  - 若需要唯一约束，可显式声明为 `UNIQUE INDEX`。

- **回表查询机制**  
  - 查询时通常经历两个步骤：
    1. 先通过普通索引查到对应的主键值。
    2. 再用主键到聚簇索引中查出完整数据行（称为“回表”）。
  - 因此，普通索引的查询可能涉及 **两次 I/O 操作**，性能略低于主键查询。

---

### 🆚 对比总结

| 特性           | 主键索引（Primary Key）         | 普通索引（Normal Index）       |
|----------------|----------------------------------|----------------------------------|
| 索引类型       | 聚簇索引                          | 非聚簇索引                        |
| 唯一性         | 必须唯一且非空                    | 可重复，可为空                    |
| 数据存储       | 叶子节点存储整行数据              | 叶子节点存储索引列 + 主键值       |
| 查询效率       | 查询快，直接定位数据行             | 查询需回表，性能略低              |
| 数量限制       | 每张表只能有一个主键索引           | 可创建多个普通索引                |
